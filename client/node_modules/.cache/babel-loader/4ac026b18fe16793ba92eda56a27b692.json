{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/jimmy/Documents/WebDesign/TodoList/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport './App.css';\nimport Todos from './components/Todos';\nimport Header from './components/layout/header';\nimport AddTodo from './components/AddTodo';\nimport About from './components/pages/About';\nimport { v4 as uuid } from \"uuid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      todos: [],\n      completedTodos: []\n    };\n\n    this.onDelete = id => {\n      fetch('/delete', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: id\n        })\n      }).then(res => res.json()).then(todos => this.setState({\n        todos\n      }, () => console.log('onDelete', todos)));\n    };\n\n    this.markComplete = id => {\n      let completedTodo; //here we basically replace the entire todos list in state with a new modified version with the changed todoItem\n\n      this.setState({\n        todos: this.state.todos.map(todo => {\n          if (todo.id === id) {\n            todo.completed = !todo.completed;\n            completedTodo = todo;\n          }\n\n          return todo;\n        })\n      });\n      this.setState({\n        completedTodos: [...this.state.completedTodos, completedTodo]\n      }); // console.log(\"Completed Todos : \", this.state.completedTodos);\n\n      fetch('/complete', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: id\n        })\n      }).then(res => res.json()).then(todos => this.setState({\n        todos\n      }, () => console.log('onDelete', todos)));\n    };\n\n    this.addTodo = title => {\n      const newTodo = {\n        id: uuid(),\n        title: title,\n        completed: false\n      };\n      this.setState({\n        todos: [...this.state.todos, newTodo]\n      });\n      fetch('/addTodo', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(newTodo)\n      }).then(res => res.json()).then(todos => console.log('addTodo', todos));\n    };\n  }\n\n  componentDidMount() {\n    fetch('/data').then(res => res.json()).then(todos => this.setState({\n      todos\n    }, () => console.log('fetch', todos)));\n  } //Deletes a todoItem\n\n\n  render() {\n    console.log(this.state.todos);\n    return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Routes, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              element: /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(AddTodo, {\n                  addTodo: this.addTodo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Todos, {\n                  onDelete: this.onDelete,\n                  markComplete: this.markComplete,\n                  todos: this.state.todos\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/about\",\n              element: /*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 47\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","Component","BrowserRouter","Routes","Route","Todos","Header","AddTodo","About","v4","uuid","App","state","todos","completedTodos","onDelete","id","fetch","method","headers","body","JSON","stringify","then","res","json","setState","console","log","markComplete","completedTodo","map","todo","completed","addTodo","title","newTodo","componentDidMount","render"],"sources":["/mnt/c/Users/jimmy/Documents/WebDesign/TodoList/client/src/App.js"],"sourcesContent":["import React, {Component} from 'react';\nimport {BrowserRouter, Routes, Route} from 'react-router-dom';\nimport './App.css';\nimport Todos from './components/Todos';\nimport Header from './components/layout/header';\nimport AddTodo from './components/AddTodo';\nimport About from './components/pages/About';\nimport {v4 as uuid} from \"uuid\"; \n\n\nclass App extends Component{\n    state = {\n      todos: [],\n      completedTodos: []\n    }\n\n    componentDidMount() {\n      fetch('/data')\n        .then(res => res.json())\n        .then(todos => this.setState({todos}, () => console.log('fetch', todos)));      \n    }\n\n    //Deletes a todoItem\n    onDelete = (id) => {\n      fetch('/delete', {\n        method: 'post',\n        headers: {'Accept' : 'application/json', 'Content-type' : 'application/json'},\n        body : JSON.stringify({id : id})\n      }).then((res) => res.json()).then((todos) => this.setState({todos}, () => console.log('onDelete', todos)));\n    }\n\n    //toggle Complete attribute for a TodoItem\n    markComplete = (id) => {\n      let completedTodo;\n      //here we basically replace the entire todos list in state with a new modified version with the changed todoItem\n      this.setState({todos: this.state.todos.map(todo => {\n        if (todo.id === id) {\n          todo.completed = !todo.completed\n          completedTodo = todo;\n        }\n        return todo;\n      })});\n\n      this.setState({completedTodos : [...this.state.completedTodos, completedTodo]});\n\n      // console.log(\"Completed Todos : \", this.state.completedTodos);\n\n      fetch('/complete', {\n        method: 'post',\n        headers : {'Accept' : 'application/json', 'Content-type' : 'application/json'},\n        body : JSON.stringify({id : id})\n      }).then((res) => res.json()).then((todos) => this.setState({todos}, () => console.log('onDelete', todos)));\n    }\n\n    //add a new todo to state and database \n    addTodo = (title) => {\n\n      const newTodo = {\n        id : uuid(),\n        title : title,\n        completed : false\n      };\n\n      this.setState({todos : [...this.state.todos, newTodo]});\n\n      fetch('/addTodo', {\n        method: 'post',\n        headers : {'Accept' : 'application/json', 'Content-type' : 'application/json'},\n        body : JSON.stringify(newTodo)\n      }).then((res) => res.json()).then((todos) => console.log('addTodo', todos));\n    }\n\n    render() {\n      console.log(this.state.todos)\n      return (\n        <BrowserRouter>\n          <div className='App'>\n            <div className='container'>\n              <Header />\n              <Routes>\n                <Route exact path=\"/\" element={\n                  <>\n                    <AddTodo addTodo={this.addTodo}/>\n                    <Todos onDelete={this.onDelete} markComplete={this.markComplete} todos={this.state.todos}/>\n                  </>\n                }/>\n                <Route path=\"/about\" element={<About/>}/>\n              </Routes>\n            </div>\n          </div>\n        </BrowserRouter>\n      );\n    }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}