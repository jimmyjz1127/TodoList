{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/jimmy/Documents/WebDesign/TodoList/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport './App.css';\nimport Todos from './components/Todos';\nimport Header from './components/layout/header';\nimport AddTodo from './components/AddTodo';\nimport { v4 as uuid } from \"uuid\"; //pages\n\nimport About from './components/pages/About';\nimport Archive from './components/pages/Archive';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      todos: []\n    };\n\n    this.archive = id => {\n      fetch('/archiveTodo', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: id\n        })\n      }).then(res => res.json()).then(todos => this.setState({\n        todos\n      }, console.log('archive', todos)));\n    };\n\n    this.onDelete = id => {\n      fetch('/delete', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: id\n        })\n      }).then(res => res.json()).then(todos => this.setState({\n        todos\n      }, () => console.log('onDelete', todos)));\n    };\n\n    this.markComplete = id => {\n      var completedTodo; //here we basically replace the entire todos list in state with a new modified version with the changed todoItem\n\n      this.setState({\n        todos: this.state.todos.map(todo => {\n          if (todo.id === id) {\n            if (todo.completed === false) {\n              todo.completed = !todo.completed;\n              todo.finished = Date().toLocaleString();\n              completedTodo = todo;\n            } else completedTodo = {};\n          }\n\n          return todo;\n        })\n      });\n      fetch('/complete', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(completedTodo)\n      }).then(res => res.json()).then(todos => this.setState({\n        todos\n      }, () => console.log('complete', todos)));\n    };\n\n    this.addTodo = title => {\n      const newTodo = {\n        id: uuid(),\n        title: title,\n        completed: false,\n        created: Date(),\n        finished: \"\"\n      };\n      this.setState({\n        todos: [...this.state.todos, newTodo]\n      });\n      fetch('/addTodo', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(newTodo)\n      }).then(res => res.json()).then(todos => console.log('addTodo', todos));\n    };\n  }\n\n  componentDidMount() {\n    fetch('/data').then(res => res.json()).then(todos => this.setState({\n      todos\n    }, () => console.log('fetch', todos)));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Routes, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              element: /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(AddTodo, {\n                  addTodo: this.addTodo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Todos, {\n                  archive: this.archive,\n                  onDelete: this.onDelete,\n                  markComplete: this.markComplete,\n                  todos: this.state.todos\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/about\",\n              element: /*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 47\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/archive\",\n              element: /*#__PURE__*/_jsxDEV(Archive, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","Component","BrowserRouter","Routes","Route","Todos","Header","AddTodo","v4","uuid","About","Archive","App","state","todos","archive","id","fetch","method","headers","body","JSON","stringify","then","res","json","setState","console","log","onDelete","markComplete","completedTodo","map","todo","completed","finished","Date","toLocaleString","addTodo","title","newTodo","created","componentDidMount","render"],"sources":["/mnt/c/Users/jimmy/Documents/WebDesign/TodoList/client/src/App.js"],"sourcesContent":["import React, {Component} from 'react';\nimport {BrowserRouter, Routes, Route} from 'react-router-dom';\nimport './App.css';\nimport Todos from './components/Todos';\nimport Header from './components/layout/header';\nimport AddTodo from './components/AddTodo';\nimport {v4 as uuid} from \"uuid\"; \n\n//pages\nimport About from './components/pages/About';\nimport Archive from './components/pages/Archive';\n\n\nclass App extends Component{\n    state = {\n      todos: []\n    }\n\n    componentDidMount() {\n      fetch('/data')\n        .then(res => res.json())\n        .then(todos => this.setState({todos}, () => console.log('fetch', todos))); \n    }\n\n    archive = (id) => {\n      fetch('/archiveTodo', {\n        method: 'post',\n        headers: {'Accept' : 'application/json', 'Content-type' : 'application/json'},\n        body : JSON.stringify({id : id})\n      }).then(res => res.json())\n        .then(todos => this.setState({todos}, console.log('archive', todos)));\n    }\n\n    //Deletes a todoItem\n    onDelete = (id) => {\n      fetch('/delete', {\n        method: 'post',\n        headers: {'Accept' : 'application/json', 'Content-type' : 'application/json'},\n        body : JSON.stringify({id : id})\n      }).then((res) => res.json()).then((todos) => this.setState({todos}, () => console.log('onDelete', todos)));\n    }\n\n    //toggle Complete attribute for a TodoItem\n    markComplete = (id) => {\n\n      var completedTodo;\n      //here we basically replace the entire todos list in state with a new modified version with the changed todoItem\n      this.setState({todos: this.state.todos.map(todo => {\n        if (todo.id === id) {\n          if (todo.completed === false)\n          {\n            todo.completed = !todo.completed\n            todo.finished = Date().toLocaleString();\n            completedTodo = todo;\n          }\n          else\n            completedTodo = {};\n        }\n        return todo;\n      })});\n\n      fetch('/complete', {\n        method: 'post',\n        headers : {'Accept' : 'application/json', 'Content-type' : 'application/json'},\n        body : JSON.stringify(completedTodo)\n      }).then((res) => res.json()).then((todos) => this.setState({todos}, () => console.log('complete', todos)));\n    }\n\n    //add a new todo to state and database \n    addTodo = (title) => {\n\n      const newTodo = {\n        id : uuid(),\n        title : title,\n        completed : false,\n        created : Date(),\n        finished : \"\"\n      };\n\n      this.setState({todos : [...this.state.todos, newTodo]});\n\n      fetch('/addTodo', {\n        method: 'post',\n        headers : {'Accept' : 'application/json', 'Content-type' : 'application/json'},\n        body : JSON.stringify(newTodo)\n      }).then((res) => res.json()).then((todos) => console.log('addTodo', todos));\n    }\n\n    render() {\n      return (\n        <BrowserRouter>\n          <div className='App'>\n            <div className='container'>\n              <Header />\n              <Routes>\n                <Route exact path=\"/\" element={\n                  <>\n                    <AddTodo addTodo={this.addTodo}/>\n                    <Todos archive={this.archive} onDelete={this.onDelete} markComplete={this.markComplete} todos={this.state.todos}/>\n                  </>\n                }/>\n                <Route path=\"/about\" element={<About/>}/>\n                <Route path=\"/archive\" element={<Archive/>}/>\n              </Routes>\n            </div>\n          </div>\n        </BrowserRouter>\n      );\n    }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}